# 接口文档

## 用户相关接口

### 1.登录

**请求方式：** POST

**请求地址：** `user/login`

**请求体参数：**

```json

{
  "userName": "admin",
  "password": "sha256后的密码"
}
```

**返回值：**

- 成功：

```json
{
  "data": {
    "token": "token"
  },
  "message": "成功",
  "statusCode": 200
}
```

- 失败：

```json
{
  "data": null,
  "message": "登录失败",
  "statusCode": 420
}
```

### 2.注册

**请求方式：** POST

**请求地址：** `user/register`

**请求体参数：**

```json
{
  "userName": "admin",
  "password": "sha256后的密码"
}
```

**返回值：**

- 成功：

```json
{
  "data": null,
  "message": "注册成功",
  "statusCode": 200
}
```

- 失败：

```json
{
  "data": null,
  "message": "注册失败",
  "statusCode": 421
}
```

## 行程安排接口

### 1. 获取所有行程

**接口地址**: /deekseek/planItinerary

**请求方式**: GET

**Produces**: text/html;charset=UTF-8

**请求参数:**

| 参数名	      | 类型         | 	必填   | 	默认值                  | 	说明                   |
|-----------|------------|-------|-----------------------|-----------------------|
| startCity | 	String    | 	是    | 	-	                   | 出发城市                  |       
| endCity	  | String	    | 是     | 	-	                   | 目的地城市                 |  
| startDate | 	LocalDate | 	是	   | -	                    | 出发日期 (格式: yyyy-MM-dd) |
| endDate	  | LocalDate	 | 是	-	  | 返回日期 (格式: yyyy-MM-dd) |
| token	    | String	是	  | -	    | 用户认证令牌                |
| userInput | 	String	   | 否	""	 | 用户修改要求（为空时生成新计划）      |

使用场景:

首次生成计划: 不传 userInput 或传空字符串

修改计划: 传入具体的修改要求

修改计划: 传入具体的修改要求

**示例请求:**

```http
GET /deekseek/planItinerary?startCity=北京&endCity=上海&startDate=2025-10-25&endDate=2025-10-30&token=xxx&userInput=请增加美食推荐
```

**响应格式:**

**成功:** 

`Flux<String> (流式响应，HTML格式)`

**失败:** 

`"身份验证失败，无法获取行程"`